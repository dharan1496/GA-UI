<mat-toolbar class="tool-bar mat-elevation-z4" color="primary" *ngIf="!appSharedService.logout">
    <button mat-icon-button (click)="toggleSidenav()" matTooltip="Menu">
        <mat-icon *ngIf="navigationService.isSidenavOpened">close</mat-icon>
        <mat-icon *ngIf="!navigationService.isSidenavOpened">menu</mat-icon>
    </button>
    <span class="ml-8 font-size-20">Menu</span>
    <div class="nav-btn py-32">
      <button id="purchases" mat-button (click)="selectSection('purchases')"><span class="font-size-16">Purchases</span></button>
      <button id="production" mat-button (click)="selectSection('production')"><span class="font-size-16">Production</span></button>
      <button id="sales" mat-button (click)="selectSection('sales')"><span class="font-size-16">Sales</span></button>
    </div>
    <span class="toolbar-item-spacer"></span>
    <span class="font-weight-normal pr-4">Welcome, {{ appSharedService.username }}</span>
    <button mat-icon-button matTooltip="My Account" [matMenuTriggerFor]="userAccountMenu">
        <mat-icon class="account-icon">account_circle</mat-icon>
    </button>
    <mat-menu #userAccountMenu [overlapTrigger]="false" yPosition="below">
        <button mat-menu-item routerLink="/reset-password" (click)="navigationService.removeFocus()">
            <mat-icon>person</mat-icon><span>Reset password</span>
        </button>
        <mat-divider></mat-divider>
        <button mat-menu-item (click)="onLogout()" routerLink="/login">
            <mat-icon>exit_to_app</mat-icon>Logout
        </button>
    </mat-menu>
</mat-toolbar>
  
<mat-sidenav-container class="app-container">
  <mat-sidenav #sidenav mode="side" class="app-sidenav mat-elevation-z4" [opened]="navigationService.isSidenavOpened">
      <mat-nav-list>
          <h3 mat-subheader class="pt-16">General</h3>
          <mat-list-item class="mb-24" routerLink="/home">
            <div class="home-btn">
                <mat-icon aria-hidden="false" aria-label="home icon" fontIcon="home"></mat-icon>
                <span class="font-weight-bold">Home</span>
            </div>
          </mat-list-item>
          <mat-list-item class="mb-24">
            <div class="dashboard-btn">
                <mat-icon aria-hidden="false" aria-label="dashboard icon" fontIcon="dashboard"></mat-icon>
                <span class="font-weight-bold">Dashboard</span>
            </div>
          </mat-list-item>
          <h3 *ngIf="navigationService.menu?.length" mat-subheader>Navigation</h3>
          <ng-container *ngFor="let item of navigationService.menu">
            <mat-expansion-panel [class.mat-elevation-z0]="true" expanded="true">
                <mat-expansion-panel-header>
                   <span class="font-size-16"> {{ item?.title }}</span>
                </mat-expansion-panel-header>
                  <mat-nav-list>
                      <ng-container *ngFor="let submenu of item?.submenu">
                          <a mat-list-item [routerLink]="submenu.route">
                              <span class="font-size-14">{{ submenu.title }}</span>
                          </a>
                      </ng-container>
                  </mat-nav-list>
              </mat-expansion-panel>
          </ng-container>
        </mat-nav-list>
    </mat-sidenav>
    <mat-sidenav-content class="sidenav-content">
        <ng-content></ng-content>
    </mat-sidenav-content>
</mat-sidenav-container>